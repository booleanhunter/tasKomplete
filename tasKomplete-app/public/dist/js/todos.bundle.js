webpackJsonp([1],{0:function(e,t,o){e.exports=o(92)},39:function(e,t,o){var n,a;try{(function(){"use strict";n=[t,o(30)],a=function(e,t){e.sendHTTPPostRequest=function(e,o,n){t.ajax({type:"POST",url:e,datatype:"json",data:o,success:n,error:function(e,t,o){console.log(o)}})},e.sendHTTPGetRequest=function(e,o){t.ajax({type:"GET",url:e,datatype:"json",success:o,error:function(e,t,o){console.log(o)}})}}.apply(t,n),!(void 0!==a&&(e.exports=a))}).call(this)}finally{}},40:function(e,t,o){var n,a;try{(function(){"use strict";n=[o(14)],a=function(e){var t=e.createClass({displayName:"Header",render:function(){return this.props.username?e.createElement("header",{className:"header-fixed"},e.createElement("div",{className:"header-limiter"},e.createElement("h1",null,e.createElement("a",{href:"#"},"tasKomplete")),e.createElement("nav",null,e.createElement("a",{href:"#"},"Welcome, ",this.props.username),e.createElement("span",null," "),e.createElement("a",{href:"/logout"},"Logout")))):e.createElement("div",{id:"header"},e.createElement("h2",null,"Welcome to tasKomplete. Organize your tasks, keep track of active ones, and increase your productivity!"))}});return t}.apply(t,n),!(void 0!==a&&(e.exports=a))}).call(this)}finally{}},88:function(e,t,o){var n,a;try{(function(){"use strict";n=[o(14),o(40),o(90)],a=function(e,t,o){var n=e.createClass({displayName:"TodoApp",fetchAllTodos:function(){this.refs.TodoList.fetchAllTodos()},render:function(){return e.createElement("div",{id:"todoApp"},e.createElement(t,{username:this.props.username}),e.createElement("div",{id:"contentWrapper"},e.createElement(o,{ref:"TodoList"})),e.createElement("div",{id:"bgImg"}),e.createElement("div",{className:"overlay"}))}});return n}.apply(t,n),!(void 0!==a&&(e.exports=a))}).call(this)}finally{}},89:function(e,t,o){var n,a;try{(function(){"use strict";n=[o(14)],a=function(e){var t=e.createClass({displayName:"TodoItem",getInitialState:function(){return{content:this.props.content,editing:!1}},myVar:{formSubmitted:!1},handleChange:function(e){this.setState({content:e.currentTarget.value})},componentWillReceiveProps:function(e){this.setState({content:e.content})},componentDidUpdate:function(){var t=e.findDOMNode(this.refs.editInput);t.focus(),t.setSelectionRange(t.value.length,t.value.length)},saveTodoOnSubmit:function(e){e.preventDefault(),this.myVar.formSubmitted=!0,this.props.saveTodo(this.props.todoId,e.target.children[0].value),this.setState({editing:!1})},saveTodoOnBlur:function(e){this.myVar.formSubmitted?this.myVar.formSubmitted=!1:this.props.saveTodo(this.props.todoId,e.target.value),e.preventDefault(),this.setState({editing:!1})},deleteTodo:function(){this.props.deleteTodo(this.props.todoId)},changeFinishStatus:function(e){e.target.checked?this.props.markAsFinished(this.props.todoId):this.props.markAsActive(this.props.todoId)},updateInputField:function(e){this.setState({content:e.target.value})},editTodo:function(e){this.setState({editing:!0})},render:function(){var t=this,o="";return this.props.finishStatus&&(o="completed"),this.state.editing&&(o+=" editing"),e.createElement("li",{className:o},e.createElement("div",{className:"view"},e.createElement("input",{className:"toggle",type:"checkbox",checked:this.props.finishStatus,onChange:this.changeFinishStatus}),e.createElement("label",{onDoubleClick:t.editTodo},this.state.content),e.createElement("button",{className:"destroy",onClick:t.deleteTodo})),e.createElement("form",{onSubmit:this.saveTodoOnSubmit,className:"inputClassOne"},e.createElement("input",{className:"edit",value:this.state.content,onChange:t.handleChange,onBlur:t.saveTodoOnBlur,ref:"editInput"})))}});return t}.apply(t,n),!(void 0!==a&&(e.exports=a))}).call(this)}finally{}},90:function(e,t,o){var n,a;try{(function(){"use strict";n=[o(14),o(89),o(39)],a=function(e,t,o){var n=e.createClass({displayName:"TodoList",getInitialState:function(){return{allTodos:[],activeTodos:[],completedTodos:[],todosToDisplay:"all"}},componentDidMount:function(){this.fetchAllTodos()},createNewTodo:function(e){var t=document.getElementById("inputTodo"),n=this;if(""!==t.value){var a={todoContent:t.value},s=function(e){t.value="",n.fetchAllTodos()};o.sendHTTPPostRequest("/todos",a,s)}e.preventDefault()},fetchAllTodos:function(){var e=function(e){for(var t=[],o=[],n=[],a=0;a<e.allTodos.length;a++)t.push(e.allTodos[a]),e.allTodos[a].finishStatus===!1?o.push(e.allTodos[a]):e.allTodos[a].finishStatus===!0&&n.push(e.allTodos[a]);this.setState({allTodos:t,activeTodos:o,completedTodos:n})}.bind(this);o.sendHTTPGetRequest("/todos",e)},saveTodo:function(e,t){var n={todoId:e,todoContent:t},a=function(e){this.fetchAllTodos()}.bind(this);o.sendHTTPPostRequest("/todo/update",n,a)},deleteTodo:function(e){var t={todoId:e},n=function(e){this.fetchAllTodos()}.bind(this);o.sendHTTPPostRequest("/todo/delete",t,n)},markAsFinished:function(e){var t={todoId:e},n=function(e){this.fetchAllTodos()}.bind(this);o.sendHTTPPostRequest("/todo/mark_complete",t,n)},markAsActive:function(e){var t={todoId:e},n=function(e){this.fetchAllTodos()}.bind(this);o.sendHTTPPostRequest("/todo/mark_incomplete",t,n)},showTodos:function(e,t){this.setState({todosToDisplay:e})},componentDidUpdate:function(e){for(var t=document.getElementsByClassName("selected"),o=0;o<t.length;o++)t[o].className=t[o].className.replace(/selected/g,"");switch(console.log(this.state.todosToDisplay),this.state.todosToDisplay){case"all":document.getElementById("allTodosHeader").className+=" selected";break;case"active":document.getElementById("activeTodosHeader").className+=" selected";break;case"completed":document.getElementById("completedTodosHeader").className+=" selected"}},render:function(){console.log("rendered");var o,n=this;switch(this.state.todosToDisplay){case"all":o=n.state.allTodos;break;case"active":o=n.state.activeTodos;break;case"completed":o=n.state.completedTodos}var a=o.map(function(o){return e.createElement(t,{key:"all"+o._id,todoId:o._id,content:o.content,finishStatus:o.finishStatus,archived:o.archived,date:o.date,deleteTodo:n.deleteTodo,saveTodo:n.saveTodo,markAsFinished:n.markAsFinished,markAsActive:n.markAsActive})});return e.createElement("div",{className:"todoapp"},e.createElement("div",null,e.createElement("header",null,e.createElement("h1",null,"tasKomplete"),e.createElement("form",{onSubmit:this.createNewTodo},e.createElement("input",{className:"new-todo",id:"inputTodo",placeholder:"What needs to be done?"}))),e.createElement("section",{className:"main"},e.createElement("input",{className:"toggle-all",type:"checkbox"}),e.createElement("ul",{className:"todo-list"},a)),e.createElement("footer",{className:"footer"},e.createElement("span",{className:"todo-count"},e.createElement("strong",null,this.state.activeTodos.length),e.createElement("span",null," "),e.createElement("span",null," items "),e.createElement("span",null," left ")),e.createElement("ul",{className:"filters"},e.createElement("li",null,e.createElement("a",{href:"#",id:"allTodosHeader",onClick:this.showTodos.bind(this,"all","allTodosHeader")},"All")),e.createElement("span",null," "),e.createElement("li",null,e.createElement("a",{href:"#",id:"activeTodosHeader",onClick:this.showTodos.bind(this,"active","activeTodosHeader")},"Active")),e.createElement("span",null," "),e.createElement("li",null,e.createElement("a",{href:"#",id:"completedTodosHeader",onClick:this.showTodos.bind(this,"completed","completedTodosHeader")},"Completed"))))))}});return n}.apply(t,n),!(void 0!==a&&(e.exports=a))}).call(this)}finally{}},92:function(e,t,o){var n,a,n,a;try{(function(){"use strict";n=[o(14)],a=function(s){var l=document.getElementById("usernameHeader").getAttribute("data-user-name");l?(n=[o(88)],a=function(e){s.render(s.createElement(e,{username:l}),document.getElementById("componentContainer"))}.apply(t,n),!(void 0!==a&&(e.exports=a))):window.location.replace("/")}.apply(t,n),!(void 0!==a&&(e.exports=a))}).call(this)}finally{}}});